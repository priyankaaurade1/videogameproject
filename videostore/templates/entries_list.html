{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>All Game Entries</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-4">
    <h2 class="mb-3">All Game Entries</h2>
    <div class="text-center mt-4">
        <form method="get" action="{% url 'export_report' %}">
            <button type="submit" class="btn btn-success">ðŸ“¥ Download Report (Excel)</button>
        </form>
    </div>
    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Staff</th>
          <th>Customer</th>
          <th>Machine</th>
          <th>In</th>
          <th>Out</th>
          <th>Expense</th>
          <th>Amount</th>
          <th>Bill No</th>
          <th>Date</th>
          <th>Time</th>
          <th>Photo</th>
        </tr>
      </thead>
      <tbody>
        {% for entry in entries %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ entry.staff.username }}</td>
          <td>{{ entry.customer_name }}</td>
          <td>{{ entry.machine_name }} ({{ entry.machine_number }})</td>
          <td>{{ entry.in_points }}</td>
          <td>{{ entry.out_points }}</td>
          <td>{{ entry.expense_type }}</td>
          <td>{{ entry.good_luck }}</td>
          <td>{{ entry.bill_no }}</td>
          <td>{{ entry.date }}</td>
          <td>{{ entry.time }}</td>
          <td>
            {% if entry.photo %}
            <img src="{{ entry.photo.url }}" width="200">
            {% else %}
            <p>No photo</p>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
</html>
